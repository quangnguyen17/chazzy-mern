{"ast":null,"code":"var _jsxFileName = \"/Users/quangnguyen/Desktop/Projects/Chazzy/client/src/components/ChatArea.js\";\nimport React from 'react';\n\nconst ChatArea = ({\n  userWhomAmChattingWith,\n  passedInMessages\n}) => {\n  const {\n    loggedInUser\n  } = useContext(Context);\n  const [messageText, setMessageText] = useState('');\n  const messageInputRef = useRef();\n  const [socket] = useState(() => io(':8000'));\n\n  const formOnSubmit = event => {\n    event.preventDefault();\n    const newMessage = {\n      message: messageText,\n      senderID: loggedInUser._id,\n      receiverID: userWhomAmChattingWith._id\n    };\n    axios.post('http://localhost:8000/api/messages/send', newMessage, {\n      withCredentials: true\n    }).then(res => {\n      messageInputRef.current.value = '';\n      socket.emit('new-message', res.data);\n    }).catch(err => console.log(err));\n  };\n\n  const isMyMessage = message => message.senderID === loggedInUser._id;\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }, userWhomAmChattingWith ? React.createElement(React.Fragment, null, React.createElement(\"ul\", {\n    className: \"list-inline text-center mx-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(UserProfilePreview, {\n    user: userWhomAmChattingWith,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  })), passedInMessages ? passedInMessages.map(message => React.createElement(\"li\", {\n    key: message._id,\n    className: isMyMessage(message) ? 'text-right' : 'text-left',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"mx-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, isMyMessage(message) ? message.message : React.createElement(React.Fragment, null), React.createElement(\"span\", {\n    className: `p-2 rounded ${isMyMessage(message) ? 'ml-2 bg-secondary text-light' : 'mr-2 bg-light'}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"@\", isMyMessage(message) ? 'me' : userWhomAmChattingWith.username), isMyMessage(message) ? React.createElement(React.Fragment, null) : message.message))) : React.createElement(React.Fragment, null)), React.createElement(\"footer\", {\n    style: {\n      position: 'absolute',\n      bottom: '24px',\n      left: '24px',\n      right: '0'\n    },\n    className: \"text-center p-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: formOnSubmit,\n    className: \"form-row w-100 text-center m-0\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    ref: messageInputRef,\n    onChange: event => setMessageText(event.target.value),\n    type: \"text\",\n    className: \"form-control bg-light col-6 p-4 mx-1 border-0\",\n    placeholder: \"Type in your message here\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), messageText.length > 0 ? React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-secondary col-2 mr-1\",\n    value: \"=> Send\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }) : React.createElement(\"input\", {\n    type: \"submit\",\n    className: \"btn btn-secondary col-2 mr-1\",\n    value: \"=> Send\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), messageText.length > 0 ? React.createElement(\"button\", {\n    className: \"btn btn-success col-2 mr-1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Now\") : React.createElement(\"button\", {\n    className: \"btn btn-success col-2 mr-1\",\n    disabled: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Now\")))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"text-secondary m-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"- Chazzier!. :) -\")));\n};\n\nexport default ChatArea;","map":{"version":3,"sources":["/Users/quangnguyen/Desktop/Projects/Chazzy/client/src/components/ChatArea.js"],"names":["React","ChatArea","userWhomAmChattingWith","passedInMessages","loggedInUser","useContext","Context","messageText","setMessageText","useState","messageInputRef","useRef","socket","io","formOnSubmit","event","preventDefault","newMessage","message","senderID","_id","receiverID","axios","post","withCredentials","then","res","current","value","emit","data","catch","err","console","log","isMyMessage","map","username","position","bottom","left","right","target","length"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\n\nconst ChatArea = ({ userWhomAmChattingWith, passedInMessages }) => {\n    const { loggedInUser } = useContext(Context);\n    const [messageText, setMessageText] = useState('');\n    const messageInputRef = useRef();\n    const [socket] = useState(() => io(':8000'));\n\n    const formOnSubmit = event => {\n        event.preventDefault();\n        const newMessage = { message: messageText, senderID: loggedInUser._id, receiverID: userWhomAmChattingWith._id };\n        axios.post('http://localhost:8000/api/messages/send', newMessage, { withCredentials: true })\n            .then(res => {\n                messageInputRef.current.value = '';\n                socket.emit('new-message', res.data);\n            })\n            .catch(err => console.log(err));\n    }\n\n    const isMyMessage = message => message.senderID === loggedInUser._id;\n\n    return (\n        <div>\n            {userWhomAmChattingWith ? <>\n                <ul className=\"list-inline text-center mx-1\">\n                    <li><UserProfilePreview user={userWhomAmChattingWith} /></li>\n                    {passedInMessages ? passedInMessages.map(message => (\n                        <li key={message._id} className={isMyMessage(message) ? 'text-right' : 'text-left'}>\n                            <p className=\"mx-2\">\n                                {isMyMessage(message) ? message.message : <></>}\n                                <span className={`p-2 rounded ${isMyMessage(message) ? 'ml-2 bg-secondary text-light' : 'mr-2 bg-light'}`}>@{isMyMessage(message) ? 'me' : userWhomAmChattingWith.username}</span>\n                                {isMyMessage(message) ? <></> : message.message}\n                            </p>\n                        </li>\n                    )) : <></>}\n                </ul>\n                <footer style={{ position: 'absolute', bottom: '24px', left: '24px', right: '0' }} className=\"text-center p-0\">\n                    <form onSubmit={formOnSubmit} className=\"form-row w-100 text-center m-0\">\n                        <input ref={messageInputRef} onChange={event => setMessageText(event.target.value)} type=\"text\" className=\"form-control bg-light col-6 p-4 mx-1 border-0\" placeholder=\"Type in your message here\" />\n                        {messageText.length > 0 ? <input type=\"submit\" className=\"btn btn-secondary col-2 mr-1\" value=\"=> Send\" /> : <input type=\"submit\" className=\"btn btn-secondary col-2 mr-1\" value=\"=> Send\" disabled />}\n                        {messageText.length > 0 ? <button className=\"btn btn-success col-2 mr-1\">Now</button> : <button className=\"btn btn-success col-2 mr-1\" disabled>Now</button>}\n                    </form>\n                </footer>\n            </> : <div><p className=\"text-secondary m-5\">- Chazzier!. :) -</p></div>}\n        </div>\n    );\n}\n\nexport default ChatArea;"]},"metadata":{},"sourceType":"module"}